# 不同模式之间的比较

比较模式间的异同

## 接口作为成员变量，实现由构造函数传递进来

许多模式，实现上，都包含这个结构。即：组合+接口。

| 模式       | 接口类型        | 用法                                                         |
| ---------- | --------------- | ------------------------------------------------------------ |
| 策略模式   | Strategy        | 在方法中使用，作为算法                                       |
| 适配器模式 | Adaptee         | 用Adaptee的方法实现Target方法                                |
| 原型模式   | Prototype       | 在方法中使用，用来克隆对象                                   |
| 构建器模式 | Builder         | Director在构建Product的过程，调用Builder的方法，来实现Product的表示 |
| 抽象工厂   | AbstractFactory | 在方法中使用AbstractFactory生产的各种Product                 |
| 装饰器模式 | Component       | 在方法中使用Component，用来实现增强版方法                    |

## 用到组合的

以上列表皆用到，还有：

| 模式       | 组合的用处                                               |
| ---------- | -------------------------------------------------------- |
| 外观模式   | 组合子系统的若干类                                       |
| 观察者模式 | 组合多个观察者，有点不同的是，多个观察者被放在容器类型的 |

## 适配器、装饰器、外观、代理之间的区别

适配器：改变了类的接口

装饰器：不改变类的接口，而是运行时给接口添加功能

外观：给一堆类提供一个简单的接口

代理：不改变类的接口，利用被代理对象实现接口，这些和装饰者一样。但目的不一样，代理是为了控制对对象的访问。其次，代理可能在内部创建被代理的对象，而装饰器只能装饰已有的对象。

## 策略、状态

两者类图相同，但意图不同。具体：

- 策略由客户端传入，而状态通常在内部创建
- 策略一般只有一个，而状态会流转

